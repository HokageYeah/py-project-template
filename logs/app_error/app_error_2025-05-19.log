2025-05-19 11:28:04 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:28:04 | ERROR    | app.api.endpoints.test_api:get_hot_topics:32 - An error has been caught in function 'get_hot_topics', process 'SpawnProcess-35' (6414), thread 'AnyIO worker thread' (13043740672):
Traceback (most recent call last):

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x10aac4540>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x10f3276a0>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_hot_topics at 0x10eef4860>, count=10)
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x10f2ef340>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    result = get_wx_hot_topics(count)
             │                 └ 10
             └ <function get_wx_hot_topics at 0x10eef4900>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/decorators/cache_decorator.py", line 68, in wrapper
    result = func(*args, **kwargs)
             │     │       └ {}
             │     └ (10,)
             └ <function get_wx_hot_topics at 0x10eef49a0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/services/test_api.py", line 15, in get_wx_hot_topics
    1 / 0

ZeroDivisionError: division by zero
2025-05-19 11:28:33 | ERROR    | logging:callHandlers:1736 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x10f2b2c40>
  |                │     └ <function create_task_group at 0x10ddc5800>
  |                └ <module 'anyio' from '/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x10cd98050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
    |           └ <fastapi.applications.FastAPI object at 0x10cd98050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cd82ac0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x10deb3ba0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |
    |   File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x10f2d6cf0>
    |     └ <contextlib._GeneratorContextManager object at 0x10f4546e0>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f382a20>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x10f2b1a70>
    |                      │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
    |                      └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    |     return await call_next(request)
    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x10f2b1a70>
    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f382a20>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ RuntimeError('cannot reuse already awaited coroutine')
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
    |           └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x10f33c8d0>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
    |           └ <function wrap_app_handling_exceptions at 0x10dfe9440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10f0e09d0>>
    |           └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │     └ <function Route.handle at 0x10dfeaac0>
    |           └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x10f0caa20>
    |           └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x10f33c050>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x10f3837e0>
    |           └ <function wrap_app_handling_exceptions at 0x10dfe9440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383e20>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x10f3837e0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x10f33c050>
    |                      └ <function get_request_handler.<locals>.app at 0x10f0cbc40>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10dfe8c20>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'keyword': 'd23', 'limit': 5}
    |                  │         └ <function search_accounts at 0x10eef4e00>
    |                  └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(PydanticUndefined), name='keyword', mode='validation'), M...
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 55, in search_accounts
    |     result = await search_wx_accounts(keyword, limit)
    |                    │                  │        └ 5
    |                    │                  └ 'd23'
    |                    └ <function search_wx_accounts at 0x10eef4f40>
    |
    | RuntimeError: cannot reuse already awaited coroutine
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 31
               └ <function _main at 0x10acb22a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x10aac76a0>
           └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10aac6c00>
    └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10c237770>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>
    │    └ <function subprocess_started at 0x10c287a60>
    └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10c2378c0>>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10c286b60>
           │       │   └ <uvicorn.server.Server object at 0x10c2378c0>
           │       └ <function run at 0x10bf69440>
           └ <module 'asyncio' from '/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10c29db60>
           │      └ <function Runner.run at 0x10bfcbe20>
           └ <asyncio.runners.Runner object at 0x10cd981a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/s...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10bfc9760>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10cd981a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bfc96c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bfcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bf600e0>
    └ <Handle Task.task_wakeup()>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10cd98050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
          └ <fastapi.applications.FastAPI object at 0x10cd98050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10cd82ac0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f2b1220>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10deb3ba0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10f2d6cf0>
    └ <contextlib._GeneratorContextManager object at 0x10f4546e0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f382a20>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10f2b1a70>
                     │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
                     └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10f2b1a70>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f382a20>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ RuntimeError('cannot reuse already awaited coroutine')
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
          └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f383b00>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10f33c8d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
          └ <function wrap_app_handling_exceptions at 0x10dfe9440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10f0e09d0>>
          └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10dfeaac0>
          └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0caa20>
          └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383a60>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10f33c050>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10f3837e0>
          └ <function wrap_app_handling_exceptions at 0x10dfe9440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f383e20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f3827a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10f3837e0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10f33c050>
                     └ <function get_request_handler.<locals>.app at 0x10f0cbc40>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10dfe8c20>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'keyword': 'd23', 'limit': 5}
                 │         └ <function search_accounts at 0x10eef4e00>
                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(PydanticUndefined), name='keyword', mode='validation'), M...

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 55, in search_accounts
    result = await search_wx_accounts(keyword, limit)
                   │                  │        └ 5
                   │                  └ 'd23'
                   └ <function search_wx_accounts at 0x10eef4f40>

RuntimeError: cannot reuse already awaited coroutine
2025-05-19 11:29:47 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:29:47 | ERROR    | app.api.endpoints.test_api:get_hot_topics:32 - An error has been caught in function 'get_hot_topics', process 'SpawnProcess-35' (6414), thread 'AnyIO worker thread' (13043740672):
Traceback (most recent call last):

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x10aac4540>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x10f3276a0>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_hot_topics at 0x10eef4860>, count=10)
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x10f2ef340>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    result = get_wx_hot_topics(count)
             │                 └ 10
             └ <function get_wx_hot_topics at 0x10eef4900>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/decorators/cache_decorator.py", line 68, in wrapper
    result = func(*args, **kwargs)
             │     │       └ {}
             │     └ (10,)
             └ <function get_wx_hot_topics at 0x10eef49a0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/services/test_api.py", line 15, in get_wx_hot_topics
    1 / 0

ZeroDivisionError: division by zero
2025-05-19 11:29:59 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:29:59 | ERROR    | app.api.endpoints.test_api:get_hot_topics:32 - An error has been caught in function 'get_hot_topics', process 'SpawnProcess-35' (6414), thread 'AnyIO worker thread' (13043740672):
Traceback (most recent call last):

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x10aac4540>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/threading.py", line 1041, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x10f3276a0>
    └ <WorkerThread(AnyIO worker thread, started 13043740672)>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function get_hot_topics at 0x10eef4860>, count=10)
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x10f30c0c0>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    result = get_wx_hot_topics(count)
             │                 └ 10
             └ <function get_wx_hot_topics at 0x10eef4900>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/decorators/cache_decorator.py", line 68, in wrapper
    result = func(*args, **kwargs)
             │     │       └ {}
             │     └ (10,)
             └ <function get_wx_hot_topics at 0x10eef49a0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/services/test_api.py", line 15, in get_wx_hot_topics
    1 / 0

ZeroDivisionError: division by zero
2025-05-19 11:30:34 | ERROR    | logging:callHandlers:1736 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x10f333150>
  |                │     └ <function create_task_group at 0x10ddc5800>
  |                └ <module 'anyio' from '/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x10cd98050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
    |           └ <fastapi.applications.FastAPI object at 0x10cd98050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f575620>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x10deb3ba0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |
    |   File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x10f5686c0>
    |     └ <contextlib._GeneratorContextManager object at 0x10f5c4bb0>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f574cc0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x10f273c50>
    |                      │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
    |                      └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    |     return await call_next(request)
    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x10f273c50>
    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f574cc0>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ RuntimeError('cannot reuse already awaited coroutine')
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
    |           └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x10f48a620>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
    |           └ <function wrap_app_handling_exceptions at 0x10dfe9440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10f0e09d0>>
    |           └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │     └ <function Route.handle at 0x10dfeaac0>
    |           └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x10f0caa20>
    |           └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x10f48a6d0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x10f575300>
    |           └ <function wrap_app_handling_exceptions at 0x10dfe9440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f5756c0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x10f575300>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x10f48a6d0>
    |                      └ <function get_request_handler.<locals>.app at 0x10f0cbc40>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x10dfe8c20>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'keyword': 'd23', 'limit': 5}
    |                  │         └ <function search_accounts at 0x10eef4e00>
    |                  └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(PydanticUndefined), name='keyword', mode='validation'), M...
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 55, in search_accounts
    |     result = await search_wx_accounts(keyword, limit)
    |                    │                  │        └ 5
    |                    │                  └ 'd23'
    |                    └ <function search_wx_accounts at 0x10eef4f40>
    |
    | RuntimeError: cannot reuse already awaited coroutine
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 31
               └ <function _main at 0x10acb22a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x10aac76a0>
           └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10aac6c00>
    └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10c237770>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>
    │    └ <function subprocess_started at 0x10c287a60>
    └ <SpawnProcess name='SpawnProcess-35' parent=99690 started>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10c2378c0>>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10c286b60>
           │       │   └ <uvicorn.server.Server object at 0x10c2378c0>
           │       └ <function run at 0x10bf69440>
           └ <module 'asyncio' from '/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10c29db60>
           │      └ <function Runner.run at 0x10bfcbe20>
           └ <asyncio.runners.Runner object at 0x10cd981a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/s...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10bfc9760>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10cd981a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10bfc96c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10bfcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10bf600e0>
    └ <Handle Task.task_wakeup()>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10cd98050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10f2956a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
          └ <fastapi.applications.FastAPI object at 0x10cd98050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f575620>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10f330450>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10f334050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x10deb3ba0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x10f5686c0>
    └ <contextlib._GeneratorContextManager object at 0x10f5c4bb0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f574cc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x10f273c50>
                     │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
                     └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x10f273c50>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10f574cc0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ RuntimeError('cannot reuse already awaited coroutine')
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
          └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x10f297e00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x10f297cb0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10f575440>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x10f48a620>
          │                            │    └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10f297b60>
          └ <function wrap_app_handling_exceptions at 0x10dfe9440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10f0e09d0>>
          └ <fastapi.routing.APIRouter object at 0x10f0e09d0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x10dfeaac0>
          └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x10f0caa20>
          └ APIRoute(path='/api/v1/test/search-accounts', name='search_accounts', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f575260>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x10f48a6d0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10f575300>
          └ <function wrap_app_handling_exceptions at 0x10dfe9440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10f5756c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10f574c20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x10f575300>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x10f48a6d0>
                     └ <function get_request_handler.<locals>.app at 0x10f0cbc40>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x10dfe8c20>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'keyword': 'd23', 'limit': 5}
                 │         └ <function search_accounts at 0x10eef4e00>
                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(PydanticUndefined), name='keyword', mode='validation'), M...

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 55, in search_accounts
    result = await search_wx_accounts(keyword, limit)
                   │                  │        └ 5
                   │                  └ 'd23'
                   └ <function search_wx_accounts at 0x10eef4f40>

RuntimeError: cannot reuse already awaited coroutine
2025-05-19 11:38:11 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:38:13 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:38:13 | ERROR    | logging:callHandlers:1736 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x111e17610>
  |                │     └ <function create_task_group at 0x1108dd800>
  |                └ <module 'anyio' from '/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x10f8c4050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
    |           └ <fastapi.applications.FastAPI object at 0x10f8c4050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x111e38a40>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x1109cbba0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |
    |   File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x111ddedc0>
    |     └ <contextlib._GeneratorContextManager object at 0x111dbf540>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111e9afc0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x111e151d0>
    |                      │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
    |                      └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    |     return await call_next(request)
    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x111e151d0>
    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111e9afc0>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ RuntimeError('cannot reuse already awaited coroutine')
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
    |           └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x111e15090>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
    |           └ <function wrap_app_handling_exceptions at 0x110b01440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111bf8b00>>
    |           └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │     └ <function Route.handle at 0x110b02ac0>
    |           └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x111bdea20>
    |           └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x111dc9e00>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x111e9ab60>
    |           └ <function wrap_app_handling_exceptions at 0x110b01440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9b100>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x111e9ab60>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x111dc9e00>
    |                      └ <function get_request_handler.<locals>.app at 0x111bde980>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x110b00c20>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'count': 10}
    |                  │         └ <function get_hot_topics at 0x111a0c9a0>
    |                  └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(10), name='count', mode='validation')], header_params=[],...
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    |     result = await get_wx_hot_topics(count)
    |                    │                 └ 10
    |                    └ <function get_wx_hot_topics at 0x111a0ca40>
    |
    | RuntimeError: cannot reuse already awaited coroutine
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 31
               └ <function _main at 0x10e4c22a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x10d5bf6a0>
           └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d5bec00>
    └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10ed5f770>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>
    │    └ <function subprocess_started at 0x10edb3a60>
    └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10ed5f8c0>>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10edb2b60>
           │       │   └ <uvicorn.server.Server object at 0x10ed5f8c0>
           │       └ <function run at 0x10ea89440>
           └ <module 'asyncio' from '/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10edc5b60>
           │      └ <function Runner.run at 0x10eaefe20>
           └ <asyncio.runners.Runner object at 0x10f8c41a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/s...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10eaed760>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10f8c41a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10eaed6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10eaef4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ea840e0>
    └ <Handle Task.task_wakeup()>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10f8c4050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
          └ <fastapi.applications.FastAPI object at 0x10f8c4050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x111e38a40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e16ad0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x1109cbba0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x111ddedc0>
    └ <contextlib._GeneratorContextManager object at 0x111dbf540>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111e9afc0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x111e151d0>
                     │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
                     └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x111e151d0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111e9afc0>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ RuntimeError('cannot reuse already awaited coroutine')
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
          └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111e9a700>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x111e15090>
          │                            │    └ <fastapi.routing.APIRouter object at 0x111bf8b00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
          └ <function wrap_app_handling_exceptions at 0x110b01440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x111bf8b00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111bf8b00>>
          └ <fastapi.routing.APIRouter object at 0x111bf8b00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x110b02ac0>
          └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x111bdea20>
          └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9aac0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x111dc9e00>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x111e9ab60>
          └ <function wrap_app_handling_exceptions at 0x110b01440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111e9b100>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111e9a7a0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x111e9ab60>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x111dc9e00>
                     └ <function get_request_handler.<locals>.app at 0x111bde980>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110b00c20>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'count': 10}
                 │         └ <function get_hot_topics at 0x111a0c9a0>
                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(10), name='count', mode='validation')], header_params=[],...

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    result = await get_wx_hot_topics(count)
                   │                 └ 10
                   └ <function get_wx_hot_topics at 0x111a0ca40>

RuntimeError: cannot reuse already awaited coroutine
2025-05-19 11:38:14 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:38:14 | ERROR    | logging:callHandlers:1736 - Exception in ASGI application

  + Exception Group Traceback (most recent call last):
  |
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x11205c050>
  |                │     └ <function create_task_group at 0x1108dd800>
  |                └ <module 'anyio' from '/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/__init__.py'>
  |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |                    └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    |     return await self.app(scope, receive, send)
    |                  │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |                  │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |                  │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |                  │    └ <fastapi.applications.FastAPI object at 0x10f8c4050>
    |                  └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |                            │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |                            │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |                            └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |           │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
    |           └ <fastapi.applications.FastAPI object at 0x10f8c4050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f8aeca0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0x1109cbba0>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |
    |   File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0x111fabd30>
    |     └ <contextlib._GeneratorContextManager object at 0x111dbf690>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111f73060>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0x111e165d0>
    |                      │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
    |                      └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    |     return await call_next(request)
    |                  │         └ <starlette.middleware.base._CachedRequest object at 0x111e165d0>
    |                  └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111f73060>
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ RuntimeError('cannot reuse already awaited coroutine')
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
    |           └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    │    └ <starlette.requests.Request object at 0x111d6fad0>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
    |           └ <function wrap_app_handling_exceptions at 0x110b01440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111bf8b00>>
    |           └ <fastapi.routing.APIRouter object at 0x111bf8b00>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │     └ <function Route.handle at 0x110b02ac0>
    |           └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │    └ <function request_response.<locals>.app at 0x111bdea20>
    |           └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           │                            │    └ <starlette.requests.Request object at 0x111d9bbd0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0x111f736a0>
    |           └ <function wrap_app_handling_exceptions at 0x110b01440>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f737e0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
    |           └ <function request_response.<locals>.app.<locals>.app at 0x111f736a0>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0x111d9bbd0>
    |                      └ <function get_request_handler.<locals>.app at 0x111bde980>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0x110b00c20>
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'count': 10}
    |                  │         └ <function get_hot_topics at 0x111a0c9a0>
    |                  └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(10), name='count', mode='validation')], header_params=[],...
    |
    |   File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    |     result = await get_wx_hot_topics(count)
    |                    │                 └ 10
    |                    └ <function get_wx_hot_topics at 0x111a0ca40>
    |
    | RuntimeError: cannot reuse already awaited coroutine
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 31
               └ <function _main at 0x10e4c22a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x10d5bf6a0>
           └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10d5bec00>
    └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10ed5f770>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>
    │    └ <function subprocess_started at 0x10edb3a60>
    └ <SpawnProcess name='SpawnProcess-39' parent=99690 started>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10ed5f8c0>>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/server.py", line 66, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=28, family=2, type=1, proto=0, laddr=('127.0.0.1', 8002)>]
           │       │   │    └ <function Server.serve at 0x10edb2b60>
           │       │   └ <uvicorn.server.Server object at 0x10ed5f8c0>
           │       └ <function run at 0x10ea89440>
           └ <module 'asyncio' from '/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x10edc5b60>
           │      └ <function Runner.run at 0x10eaefe20>
           └ <asyncio.runners.Runner object at 0x10f8c41a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/s...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10eaed760>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10f8c41a0>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10eaed6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10eaef4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 2034, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ea840e0>
    └ <Handle Task.task_wakeup()>

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup()>

> File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10f8c4050>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x111da16a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
          └ <fastapi.applications.FastAPI object at 0x10f8c4050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10f8aeca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x111e17890>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x111e4c050>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0x1109cbba0>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "/usr/local/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [RuntimeError('cannot reuse already awaited coroutine')])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0x111fabd30>
    └ <contextlib._GeneratorContextManager object at 0x111dbf690>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111f73060>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0x111e165d0>
                     │    └ <bound method ResponseValidatorMiddleware.dispatch of <app.middleware.response_validator.ResponseValidatorMiddleware object a...
                     └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/middleware/response_validator.py", line 144, in dispatch
    return await call_next(request)
                 │         └ <starlette.middleware.base._CachedRequest object at 0x111e165d0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x111f73060>

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ RuntimeError('cannot reuse already awaited coroutine')
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
          └ <app.middleware.response_validator.ResponseValidatorMiddleware object at 0x111da3e00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x111da3cb0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x111f73420>
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    │    └ <starlette.requests.Request object at 0x111d6fad0>
          │                            │    └ <fastapi.routing.APIRouter object at 0x111bf8b00>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x111da3b60>
          └ <function wrap_app_handling_exceptions at 0x110b01440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <fastapi.routing.APIRouter object at 0x111bf8b00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111bf8b00>>
          └ <fastapi.routing.APIRouter object at 0x111bf8b00>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │     └ <function Route.handle at 0x110b02ac0>
          └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │    └ <function request_response.<locals>.app at 0x111bdea20>
          └ APIRoute(path='/api/v1/test/hot-topics', name='get_hot_topics', methods=['GET'])
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f73600>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          │                            │    └ <starlette.requests.Request object at 0x111d9bbd0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0x111f736a0>
          └ <function wrap_app_handling_exceptions at 0x110b01440>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x111f737e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x111f734c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8002), 'cl...
          └ <function request_response.<locals>.app.<locals>.app at 0x111f736a0>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0x111d9bbd0>
                     └ <function get_request_handler.<locals>.app at 0x111bde980>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x110b00c20>
  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/venv/lib/python3.13/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'count': 10}
                 │         └ <function get_hot_topics at 0x111a0c9a0>
                 └ Dependant(path_params=[], query_params=[ModelField(field_info=Query(10), name='count', mode='validation')], header_params=[],...

  File "/Users/yuye/YeahWork/Python项目/wxPublicCrawl/app/api/endpoints/test_api.py", line 32, in get_hot_topics
    result = await get_wx_hot_topics(count)
                   │                 └ 10
                   └ <function get_wx_hot_topics at 0x111a0ca40>

RuntimeError: cannot reuse already awaited coroutine
2025-05-19 11:46:00 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:02 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:02 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:03 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:34 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:35 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:35 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:36 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:46:36 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:47:03 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:47:05 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:47:06 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
2025-05-19 11:50:08 | ERROR    | app.api.endpoints.test_api:get_hot_topics:20 - API请求: 获取热门话题，数量: 10
